{"changed":true,"filter":false,"title":"h5.infixcalc.cpp","tooltip":"/h5.infixcalc.cpp","value":"//Lamog, Robert\n//Homework #5\n//Hart\n//10/13/14\n\n#include <cmath>\n#include <iostream>\n#include <sstream>\nusing namespace std;\n\ntemplate< typename T >\nclass Stack{\npublic:\n    static const unsigned MAX_SIZE = 4;\n    Stack();\n    Stack & push( const T & item );\n    T pop();\n    T top( const T & stack );\n    unsigned size() const;\nprivate:\n    T myData[ MAX_SIZE ];\n    unsigned mySize;\n};\n\nbool calculate( double & result, const string & line );\nbool parse( double & result, const string & token );\n\nbool die( const string & msg );\n\nint main() {\n    cout <<\"Input an expression. Leave a blank line to quit. I'll analyze the tokens:\" <<endl;\n    \n    for (string line; getline(cin, line) && line.size() > 0; ) {\n        double answer;\n        \n        if(calculate(answer, line)) cout <<\" \" <<answer <<endl;\n        else cout <<\"    bogus\" <<endl;\n    }\n    \n    cout <<\"Thanks for playing. Goodbye.\\n\" <<endl;\n\n    return 0;\n}\n\ntemplate< typename T >\nStack<T>::Stack(): mySize(0) {}\n\ntemplate< typename T >\nStack<T> & Stack<T>::push( const T & item ) {\n    if(mySize == MAX_SIZE) die(\"Stack::push: overflow.\");\n    myData[mySize++] = item;\n    return *this;\n}\ntemplate< typename T >\nT Stack<T>::pop() {\n    if(mySize == 0) die(\"Stack::pop: underflow.\");\n    return myData[--mySize];\n}\nT Stack<T>::top( const T & stack ) {\n    if (mySize == 0) die(\"Underflow.\")\n    return myData[mySize - 1];\n}\ntemplate< typename T >\nunsigned Stack<T>::size() const {\n    return mySize;\n}\n\nbool calculate( double & result, const string & line ) {\n    Stack<double> doubleStack;\n    Stack<string> operationStack;\n    bool isExpectingNum = true;\n\n    istringstream sin(line);\n    for(string token; sin >>token; ) {\n        double a, b, value;\n        string operation;\n        istringstream wordin(token);\n        \n        if (wordin >>value) {\n            if (isExpectingNum) {\n                doubleStack.push(value);\n                isExpectingNum = false;\n            }\n        }\n        if (token ==\"(\") {\n            if (isExpectingNum) operationStack.push(token);\n        }\n        if (token == \"^\") {\n            if (!isExpectingNum) {\n                operationStack.push(token);\n                isExpectingNum = true;\n            }\n        }\n        if (token == \"*\") {\n            if (!isExpectingNum) {\n                operationStack.push(token);\n                isExpectingNum = true;\n            }\n        }\n        if (token == \"/\") {\n            if (!isExpectingNum) {\n                operationStack.push(token);\n                isExpectingNum = true;\n            }\n        }\n        if (token == \"+\") {\n            if (!isExpectingNum) {\n                operationStack.push(token);\n                isExpectingNum = true;\n            }\n        }\n        if (token == \"-\") {\n            if (!isExpectingNum) {\n                operationStack.push(token);\n                isExpectingNum = true;\n            }\n        }\n        \n        if (operationStack.size() > 0) {\n            \n        }\n    }\n    \n    // if(doubleStack.size() != 1 || operationStack.size() > 0 || isExpectingNum == true) return false;\n    result = doubleStack.pop();\n    \n    return true;\n}\n\nbool die( const string & msg ) {\n    // cerr <<endl <<\"Fatal error: \" <<msg << endl;\n    // exit( EXIT_FAILURE );\n\n    cout << endl << \"Fatal error: \" << msg << endl;\n    return true;\n}","undoManager":{"mark":-548,"position":100,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":20},"end":{"row":17,"column":21}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":21},"end":{"row":17,"column":22}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":22},"end":{"row":17,"column":23}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":23},"end":{"row":17,"column":24}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":24},"end":{"row":17,"column":25}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":25},"end":{"row":17,"column":26}},"text":"k"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":26},"end":{"row":17,"column":27}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":27},"end":{"row":17,"column":28}},"text":")"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":28},"end":{"row":17,"column":29}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":57,"column":1},"end":{"row":58,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":58,"column":0},"end":{"row":58,"column":29}},"text":"    T top( const T & stack );"},{"action":"insertText","range":{"start":{"row":58,"column":29},"end":{"row":59,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":58,"column":0},"end":{"row":58,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":58,"column":2},"end":{"row":58,"column":3}},"text":"S"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":58,"column":3},"end":{"row":58,"column":4}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":58,"column":4},"end":{"row":58,"column":5}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":58,"column":5},"end":{"row":58,"column":6}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":58,"column":6},"end":{"row":58,"column":7}},"text":"k"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":58,"column":7},"end":{"row":58,"column":8}},"text":":"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":58,"column":8},"end":{"row":58,"column":9}},"text":":"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":58,"column":8},"end":{"row":58,"column":9}},"text":":"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":58,"column":7},"end":{"row":58,"column":8}},"text":":"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":58,"column":7},"end":{"row":58,"column":8}},"text":"<"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":58,"column":8},"end":{"row":58,"column":9}},"text":"("}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":58,"column":8},"end":{"row":58,"column":9}},"text":"("}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":58,"column":8},"end":{"row":58,"column":9}},"text":"T"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":58,"column":9},"end":{"row":58,"column":10}},"text":">"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":58,"column":10},"end":{"row":58,"column":11}},"text":":"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":58,"column":11},"end":{"row":58,"column":12}},"text":":"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":58,"column":34},"end":{"row":58,"column":35}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":58,"column":34},"end":{"row":58,"column":35}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":58,"column":35},"end":{"row":58,"column":36}},"text":"{"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":58,"column":36},"end":{"row":59,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":59,"column":0},"end":{"row":60,"column":0}},"lines":["    "]},{"action":"insertText","range":{"start":{"row":60,"column":0},"end":{"row":60,"column":1}},"text":"}"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":60,"column":1},"end":{"row":61,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":4},"end":{"row":59,"column":5}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":5},"end":{"row":59,"column":6}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":6},"end":{"row":59,"column":7}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":7},"end":{"row":59,"column":8}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":8},"end":{"row":59,"column":9}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":9},"end":{"row":59,"column":10}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":10},"end":{"row":59,"column":11}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":11},"end":{"row":59,"column":12}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":12},"end":{"row":59,"column":13}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":13},"end":{"row":59,"column":14}},"text":"D"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":59,"column":11},"end":{"row":59,"column":14}},"text":"myD"},{"action":"insertText","range":{"start":{"row":59,"column":11},"end":{"row":59,"column":17}},"text":"myData"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":17},"end":{"row":59,"column":19}},"text":"[]"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":18},"end":{"row":59,"column":19}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":19},"end":{"row":59,"column":20}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":20},"end":{"row":59,"column":21}},"text":"S"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":59,"column":18},"end":{"row":59,"column":21}},"text":"myS"},{"action":"insertText","range":{"start":{"row":59,"column":18},"end":{"row":59,"column":24}},"text":"mySize"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":25},"end":{"row":59,"column":26}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":24},"end":{"row":59,"column":25}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":25},"end":{"row":59,"column":26}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":26},"end":{"row":59,"column":27}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":27},"end":{"row":59,"column":28}},"text":"1"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":58,"column":36},"end":{"row":59,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":59,"column":0},"end":{"row":59,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":4},"end":{"row":59,"column":5}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":5},"end":{"row":59,"column":6}},"text":"f"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":6},"end":{"row":59,"column":7}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":7},"end":{"row":59,"column":9}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":8},"end":{"row":59,"column":9}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":9},"end":{"row":59,"column":10}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":10},"end":{"row":59,"column":11}},"text":"S"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":11},"end":{"row":59,"column":12}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":12},"end":{"row":59,"column":13}},"text":"z"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":13},"end":{"row":59,"column":14}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":14},"end":{"row":59,"column":15}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":15},"end":{"row":59,"column":16}},"text":"="}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":16},"end":{"row":59,"column":17}},"text":"="}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":17},"end":{"row":59,"column":18}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":18},"end":{"row":59,"column":19}},"text":"0"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":20},"end":{"row":59,"column":21}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":21},"end":{"row":59,"column":22}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":22},"end":{"row":59,"column":23}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":23},"end":{"row":59,"column":24}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":24},"end":{"row":59,"column":26}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":25},"end":{"row":59,"column":27}},"text":"\"\""}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":26},"end":{"row":59,"column":27}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":27},"end":{"row":59,"column":28}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":28},"end":{"row":59,"column":29}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":59,"column":26},"end":{"row":59,"column":29}},"text":"und"},{"action":"insertText","range":{"start":{"row":59,"column":26},"end":{"row":59,"column":35}},"text":"underflow"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":59,"column":34},"end":{"row":59,"column":35}},"text":"w"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":59,"column":33},"end":{"row":59,"column":34}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":59,"column":32},"end":{"row":59,"column":33}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":59,"column":31},"end":{"row":59,"column":32}},"text":"f"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":59,"column":30},"end":{"row":59,"column":31}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":59,"column":29},"end":{"row":59,"column":30}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":59,"column":28},"end":{"row":59,"column":29}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":59,"column":27},"end":{"row":59,"column":28}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":59,"column":26},"end":{"row":59,"column":27}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":26},"end":{"row":59,"column":27}},"text":"U"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":27},"end":{"row":59,"column":28}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":28},"end":{"row":59,"column":29}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":29},"end":{"row":59,"column":30}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":30},"end":{"row":59,"column":31}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":31},"end":{"row":59,"column":32}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":59,"column":31},"end":{"row":59,"column":32}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":31},"end":{"row":59,"column":32}},"text":"f"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":32},"end":{"row":59,"column":33}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":33},"end":{"row":59,"column":34}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":34},"end":{"row":59,"column":35}},"text":"w"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":35},"end":{"row":59,"column":36}},"text":"."}]}]]},"ace":{"folds":[],"scrolltop":583.5,"scrollleft":0,"selection":{"start":{"row":60,"column":30},"end":{"row":60,"column":30},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":37,"state":"start","mode":"ace/mode/c_cpp"}},"timestamp":1413246460963}